{"id":"reincheck-048","title":"Refactor: Remove redundant isinstance checks in AgentConfig","description":"AgentConfig.__post_init__ has unnecessary isinstance() checks that always return True:\n- Lines 42, 44, 46, 48, 51, 55 check if str fields are isinstance(str) \n- Dataclasses already enforce these types\n- Config.__post_init__ has similar issue (line 76, 79)\n- basedpyright reports: 'Unnecessary isinstance call; str is always an instance of str'\n\nSimple cleanup removes ~12 lines of dead code, makes validation clearer.","status":"closed","priority":3,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T12:12:32.957758142+01:00","created_by":"Megatherium","updated_at":"2026-02-05T12:34:38.859680642+01:00","closed_at":"2026-02-05T12:34:38.859680642+01:00","close_reason":"Removed redundant isinstance checks from AgentConfig.__post_init__ (lines 42-56) - simplified validation to only check for empty strings while maintaining all validation logic. Basedpyright warnings eliminated."}
{"id":"reincheck-06t","title":"Fix codex agent install/upgrade commands","description":"The codex agent's install and upgrade commands use incorrect mise syntax. Changed from 'mise use -g npm:@openai/codex' to 'mise use -g codex' and 'mise upgrade codex@latest'. This matches the correct mise tool usage.","status":"closed","priority":3,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T02:06:40.320835972+01:00","created_by":"Megatherium","updated_at":"2026-02-05T02:07:04.193759291+01:00","closed_at":"2026-02-05T02:07:04.193759291+01:00","close_reason":"Fixed codex agent commands to use correct mise syntax"}
{"id":"reincheck-0iv","title":"Clean up test type annotations and warnings","description":"Tests have 168 type warnings and 3 errors from basedpyright. Most are intentional (testing invalid inputs), but can be cleaned up with # type: ignore comments or better type hints. Low priority as tests pass and warnings are in test code only.","status":"closed","priority":4,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T02:15:32.701821814+01:00","created_by":"Megatherium","updated_at":"2026-02-05T14:15:01.079498756+01:00","closed_at":"2026-02-05T14:15:01.079498756+01:00","close_reason":"Cleaned up 168 type warnings and 3 errors in tests by adding basedpyright config to pyproject.toml (disabled reportUnusedCallResult, reportAny, reportUnknownVariableType, reportExplicitAny) and fixing remaining issues"}
{"id":"reincheck-1hp","title":"Add unit tests for core functionality","description":"Critical: Zero test coverage for a tool that:\n- Executes external commands\n- Manages YAML configuration\n- Handles version comparisons\n- Makes network requests\n\nPriority test areas:\n1. load_config/save_config with valid/invalid YAML\n2. compare_versions() with various version formats\n3. extract_version_number() edge cases\n4. Error handling in run_command_async\n5. get_npm_release_info/get_pypi_release_info parsing\n\nShould set up pytest with mock for subprocess calls to avoid running actual commands.","status":"closed","priority":0,"issue_type":"feature","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-04T19:01:41.843257666+01:00","created_by":"Megatherium","updated_at":"2026-02-04T23:25:08.083883387+01:00","closed_at":"2026-02-04T23:25:08.083883387+01:00","close_reason":"Added 41/51 unit tests (80% success). Core functionality fully tested. 10 integration-style tests remaining due to complex Path mocking needs."}
{"id":"reincheck-2d5","title":"Unit tests for tolerant JSON parser","description":"Add tests/test_config.py with pytest tests for preprocess_jsonish() and load_config():\n\nTest cases for preprocess_jsonish():\n- Trailing comma in array: '[1, 2, 3,]' -\u003e valid\n- Trailing comma in object: '{\"a\": 1,}' -\u003e valid\n- Nested trailing commas: '{\"a\": [1,], }' -\u003e valid\n- Line comment: '{\"a\": 1} // comment' -\u003e valid\n- Comment at end of line: '{\"a\": 1, // note\\n\"b\": 2}' -\u003e valid\n- URL with // in string (NOT a comment): '{\"url\": \"https://x.com//y\"}' -\u003e preserved\n- Escaped quote in string: '{\"s\": \"He said \\\"hi\\\"\"}' -\u003e preserved\n- Backslash in string: '{\"p\": \"C:\\\\path\"}' -\u003e preserved\n- Comma in string value: '{\"csv\": \"a,b,c\"}' -\u003e preserved\n- Multiple trailing commas: '[1,2,,]' -\u003e should fail (only ONE trailing comma tolerated)\n\nTest load_config() error messages:\n- Verify line number in error matches original file\n- Verify caret position is approximately correct","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:18:23.721446068+01:00","created_by":"Megatherium","updated_at":"2026-02-05T20:00:13.397179526+01:00","closed_at":"2026-02-05T20:00:13.397179526+01:00","close_reason":"All tests implemented and passing (46 tests)","dependencies":[{"issue_id":"reincheck-2d5","depends_on_id":"reincheck-gaq","type":"parent","created_at":"2026-02-05T16:18:23.7245704+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-2d5","depends_on_id":"reincheck-5fi","type":"blocks","created_at":"2026-02-05T16:18:23.726762732+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-2o4","title":"Tests: parser, planner, dependency scanner, setup dry-run","description":"Prevent regressions. Unit tests for: tolerant config parsing (trailing commas, comments), dependency scanner with stubs, plan rendering stable output. One golden test for 'setup --preset X --dry-run'. Use pytest. Mock external tool checks for CI reliability.","status":"open","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:08:51.760544609+01:00","created_by":"Megatherium","updated_at":"2026-02-05T16:08:51.760544609+01:00","dependencies":[{"issue_id":"reincheck-2o4","depends_on_id":"reincheck-5lx","type":"parent","created_at":"2026-02-05T16:08:51.762659556+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-2o4","depends_on_id":"reincheck-gaq","type":"blocks","created_at":"2026-02-05T16:08:51.763967109+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-2o4","depends_on_id":"reincheck-gg2","type":"blocks","created_at":"2026-02-05T16:08:51.766028987+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-2o4","depends_on_id":"reincheck-pgf","type":"blocks","created_at":"2026-02-05T16:08:51.767932207+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-2o4","depends_on_id":"reincheck-rd3","type":"blocks","created_at":"2026-02-05T16:08:51.770304428+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-2oz","title":"[THINK] Define strategy presets + default recommendations","description":"Convert research into user-facing presets. Candidates: 'recommended' (brew on mac, else mise, else vendor), 'mise-language', 'homebrew', 'language-native' (npm/pipx/uv directly), 'vendor-scripts' (curl|sh opt-in). Each preset needs clear description for UI. Decide: fallback order, per-OS behavior, which harness uses which method by default. Output: preset definitions in config format with rationale strings.","status":"open","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:08:34.329543533+01:00","created_by":"Megatherium","updated_at":"2026-02-05T16:08:34.329543533+01:00","dependencies":[{"issue_id":"reincheck-2oz","depends_on_id":"reincheck-5lx","type":"parent","created_at":"2026-02-05T16:08:34.331022868+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-2oz","depends_on_id":"reincheck-lyp","type":"blocks","created_at":"2026-02-05T16:08:34.331983961+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-2oz","depends_on_id":"reincheck-e19","type":"blocks","created_at":"2026-02-05T16:08:34.33427014+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-2oz","depends_on_id":"reincheck-adq","type":"blocks","created_at":"2026-02-05T16:08:34.335936506+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-2oz","depends_on_id":"reincheck-sxv","type":"blocks","created_at":"2026-02-05T16:08:34.337576472+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-2oz","depends_on_id":"reincheck-xjq","type":"blocks","created_at":"2026-02-05T16:08:34.339301028+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-3vk","title":"Implement tolerant JSON preprocessor (state machine)","description":"Implement preprocess_jsonish(text) -\u003e text in reincheck/config.py (new file). State machine that:\n1. Strips // comments (replace with spaces, preserve newlines)\n2. Removes trailing commas before ] or } (replace with space)\n3. Handles edge cases: escaped quotes, backslashes, // in strings, commas in strings\n\nKey design:\n- Replace chars with spaces, don't delete - preserves line/col for error messages\n- Track: in_string, escape, in_comment states\n- No regex - use character-by-character walk\n\nReference implementation in reincheck-gaq thinking notes.\nTest inputs: '[1,2,]', '{\"url\": \"https://foo.com//bar\",}', 'trailing // comment'\n\nOutput: Pure function, no side effects, returns preprocessed string ready for json.loads().","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:17:41.229598074+01:00","created_by":"Megatherium","updated_at":"2026-02-05T16:43:19.305183928+01:00","closed_at":"2026-02-05T16:43:19.305183928+01:00","close_reason":"Implemented preprocess_jsonish() state machine in reincheck/config.py. Successfully handles: trailing commas before ]/}, // line comments (replaced with spaces), escaped quotes, backslashes, and preserves line/column positions. Tested with 7 test cases covering all edge cases.","dependencies":[{"issue_id":"reincheck-3vk","depends_on_id":"reincheck-gaq","type":"parent","created_at":"2026-02-05T16:17:41.232956814+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-5fi","title":"Implement load_config() with schema validation","description":"Implement load_config(path_or_text) in reincheck/config.py that:\n1. Reads file if path given, or uses text directly\n2. Calls preprocess_jsonish() to normalize\n3. Calls json.loads() \n4. Catches JSONDecodeError and re-raises with helpful message showing original line + caret\n\nError message format:\n  Config syntax error at line N, col M: \u003cjson error msg\u003e\n  \u003cthe offending line from original file\u003e\n       ^ (caret pointing to column)\n\nSchema validation via dataclasses comes in a separate ticket. This ticket is just parse + friendly errors.\n\nDependencies: reincheck-3vk (preprocessor must exist first)","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:17:51.195151416+01:00","created_by":"Megatherium","updated_at":"2026-02-05T17:06:03.583480479+01:00","closed_at":"2026-02-05T17:06:03.583483745+01:00","dependencies":[{"issue_id":"reincheck-5fi","depends_on_id":"reincheck-gaq","type":"parent","created_at":"2026-02-05T16:17:51.197968962+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-5fi","depends_on_id":"reincheck-3vk","type":"blocks","created_at":"2026-02-05T16:17:51.199803152+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-5lx","title":"A very might setup command","description":"This issue does not lead to code. It only leads to further tasks with varying dependencies that will generate useful, maintainable production code (and more tickets).\n\nThe current state of the ./reincheck/agents.yaml is very specific to my personal setup.\nIn order to be useful for the general public we'll need to offer other install routes.\nThe idea is to have a setup command that offers different management 'strategies' (basically just which package/dependency management tool is going to be used)\nOptions would be things like mise (binary first), mise (language first), homebrew, recommended (what the developer recommendes, often some `curl foo | sh` construct ), language (things like npm, pip, cargo, etc. - have sane defaults but allow customization to support bun, uv, etc.) . Not every manager will be able to install and/or update every harnesss (agentic tool), so maybe selecting a backup strategy might be necessary. As the strategies are just collections of install methods and a install method is just a collection of up to 4 commands (install, upgrade, version, check_latest) the structure that follows is rather obvious. (I'm using YAML here but would suggest TOML or JSON/JSONC for our actual configs).\n\nEvery harness has its install and metadata definitions:\n\nclaude:\n  meta:\n    git_repo:\n    release_notes_url:\n  mise_binary:\n    install: mise use -g claude-code@latest\n    upgrade: mise use -g claude-code@latest\n    version: claude --version\n    check: mise ls-remote claude-code | tail -n1\n  mise_language:\n    install: mise use -g npm:@anthropic-ai/claude-code\n    upgrade: mise use -g npm:@anthropic-ai/claude-code@latest\n    version: claude --version\n    check: npm info @anthropic-ai/claude-code version\n  recommended:\n    install: curl -fsSL https://claude.ai/install.sh | bash\n  ...\ndroid:\n  meta:\n    git_repo: github.com/Factory-AI/droid\n    release_notes_url: https://docs.factory.ai/changelog/cli-updates\n  recommended:\n    install: curl -fsSL https://app.factory.ai/cli | sh\n    version: droid --version\n    check: curl -fsSL https://app.factory.ai/cli | grep 'VER=' | head -n 1 | cut -d'\"' -f2\n    upgrade: curl -fsSL https://app.factory.ai/cli | sh\n\nFrom these we can compose strategy presets:\n\nmise_binary:\n  metadata:\n    description: \"Utilizes the mise-en-place package manager and prefers precompiled binaries\"\n  defitions:\n    claude: claude.mise_binary\n    cline: mise_binary (this is the same as cline.mise_binary - the key is an implied prefix)\n    droid: recommended (recommended is the only method available for droid AFAIK)\n    # the definitions can also be composed more granulary\n    kilocode:\n      install: kilocode.mise_binary.install\n      upgrade: mise_binary.upgrade (same as kilocode.mise_binary.upgrade)\n      version: roo.mise_binary.version (doesn't make sense, but it's allowed to address any thruple like that)\n      check: \"curl -H \"Accept: nothing\" myspecial.site/kilo | cut - '=' -f2\" (custom commands are also legal) \n    ...\nlanguage:\n  metadata:\n    description: \"Trying to use language package managers as much as possible\"\n  definitions:\n    claude: language \n    droid: recommended\n    ... \nWhen selecting a preset show a preview of the selected installers (of the strategy under the cursor) so they can press e.g. c to switch the cursor over to there, where they can press enter to get a drop-down to choose the manager (e.g. npm, pnpm, yarn, deno r bun)  \n\nAt the start of the setup we need to make a scan which managers/tools (mise, home, npm, uv but also curl, see if `rg` or `sd` are there). So we can then put the strategies, tools, whatever the list is, on top of the list and in a green font. E.g. mise_binary would only be green if the `mise` executable was in PATH, but if we need e.g. curl for the mise_binary strategy (can easily happen for scraping versions) and no substitute like `http` or `ht` then it won't be shown in green. By pressing `u` a modal showing unsatisfied dependencies should pop up. The user is never prohibited from selecting somethhing non-green. They should just get a quick \"Could detect all necessary dependencies. Are you sure? (y/N)\" modal.\n\nFurthermore: config file moves to ~/.config/reincheck. Every harness will need a separate research ticket (for collecting metadata and basaically every installation method written down (from which other commands follow, e.g. if `npm i -g foo` is valid then so is `npm`)).\nYou will need a separate research ticket for every harness to get the installation methods. Just scrape what you find but then (implementing is at least 1 ticket per harness) remember implications like: if \"npm i -g foo\" is valid then so is \"mise use --global npm:foo\"\nI am completely open as to how all these definitions (apart from the actual config file) are stored. It's something the user won't touch directly and only use once. Something that doesn't use functional whitespace and somethign that doesn't completely freak out because of an extra comma would be nice for the agents to work with.\n","status":"open","priority":1,"issue_type":"epic","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:01:31.514568275+01:00","created_by":"Megatherium","updated_at":"2026-02-05T16:01:31.514568275+01:00"}
{"id":"reincheck-7uk","title":"Fix remaining unit tests for load_config/save_config","description":"10 tests remaining failing due to complex Path mocking: load_config/save_config error handling, and some get_npm_release_info/get_pypi_release_info edge cases. The core functionality works, but these integration-style tests need better mocking strategies.","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-04T23:24:45.26416194+01:00","created_by":"Megatherium","updated_at":"2026-02-05T02:05:23.933002734+01:00","closed_at":"2026-02-05T02:05:23.933002734+01:00","close_reason":"Fixed all 11 failing tests by refactoring load_config/save_config to accept optional config_path parameter for better testability, and fixing mock paths in npm/pypi tests"}
{"id":"reincheck-9xs","title":"Code review: Add comprehensive error handling and remove bare except clauses","description":"Critical code safety issues:\n1. Multiple bare except: clauses in __init__.py (lines 187, 250, 270, 323) catch all exceptions including SystemExit/KeyboardInterrupt\n2. No error handling for YAML write operations in save_config()\n3. No validation of agent config loaded from YAML\n4. Potential command injection via asyncio.create_subprocess_shell with untrusted YAML commands\n5. No try/except around asyncio.wait_for in run_command_async for process.kill() errors\n\nThese issues make the tool unreliable and potentially unsafe. Should:\n- Replace bare except with specific exception types\n- Add try/except around file I/O\n- Validate agent config schema\n- Consider using shlex.quote or subprocess.run with list args\n- Add proper error handling for timeout scenarios","status":"closed","priority":0,"issue_type":"bug","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-04T19:01:41.820120945+01:00","created_by":"Megatherium","updated_at":"2026-02-04T19:15:47.119142585+01:00","closed_at":"2026-02-04T19:15:47.119142585+01:00","close_reason":"Completed"}
{"id":"reincheck-adq","title":"Research: Curl-script installers (droid, goose, roo)","description":"Research vendor curl|sh installers for: droid, goose, roo. Identify: safest install instructions, version check commands, whether scripts support idempotent upgrades. Check for homebrew alternatives or stable binary download URLs. Document supply-chain risks. These are highest-risk - setup must require explicit confirmation. Output: structured data + security notes.","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:08:13.173982459+01:00","created_by":"Megatherium","updated_at":"2026-02-05T23:50:17.382584038+01:00","closed_at":"2026-02-05T23:50:17.382584038+01:00","close_reason":"Completed DISTILLED.md and DISTILLED.yaml with verified installation methods for droid, goose, roo. Documented security risks for curl installers and prioritized safer alternatives (Homebrew, NPM, PyPI, VS Code extension).","dependencies":[{"issue_id":"reincheck-adq","depends_on_id":"reincheck-5lx","type":"parent","created_at":"2026-02-05T16:08:13.176353297+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-adq","depends_on_id":"reincheck-xjq","type":"blocks","created_at":"2026-02-05T16:08:13.177927049+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-aqp","title":"Remove redundant imports inside function scopes","description":"Code quality: commands.py imports modules inside functions multiple times:\n- Line 51: get_current_version, compare_versions imported in run_check()\n- Line 120: get_latest_version imported in run_update()  \n- Line 186: get_current_version, compare_versions imported in run_upgrade()\n\nThese are already imported at module level (lines 7-14). The internal imports are redundant and add overhead. Should remove them.","status":"closed","priority":3,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-04T19:01:53.061878941+01:00","created_by":"Megatherium","updated_at":"2026-02-04T19:03:57.873887852+01:00","closed_at":"2026-02-04T19:03:57.873887852+01:00","close_reason":"Implemented: Removed redundant imports inside run_check, run_update, and run_upgrade functions"}
{"id":"reincheck-blv","title":"Add --debug option for better error visibility","description":"Currently getting 'Unknown error' when trying to update agents (e.g. crush). Need to add a --debug option that shows full exception details and provides visibility into what's going wrong.","status":"closed","priority":1,"issue_type":"feature","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-03T21:14:28.152023289+01:00","created_by":"Megatherium","updated_at":"2026-02-03T21:39:19.826870152+01:00","closed_at":"2026-02-03T21:39:19.826870152+01:00","close_reason":"Implemented --debug option that shows detailed command output, status, and error information for troubleshooting"}
{"id":"reincheck-d2z","title":"Refactor: Remove global debug state for better testability","description":"Code smell: _debug_enabled global variable with set_debug()/is_debug() functions makes testing difficult and violates dependency injection principles.\n\nCurrent approach:\n- Global mutable state in __init__.py (line 12)\n- Functions check is_debug() throughout codebase\n\nShould refactor to:\n- Pass debug flag as parameter to functions that need it\n- Or create a context object/state class\n- Makes code more testable and predictable","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-04T19:01:53.057925806+01:00","created_by":"Megatherium","updated_at":"2026-02-05T12:05:45.357821027+01:00","closed_at":"2026-02-05T12:05:45.357821027+01:00","close_reason":"Refactored to remove global debug state. All functions now accept explicit debug parameter. Tests updated. All 51 tests pass."}
{"id":"reincheck-dca","title":"Documentation: setup command + security model","description":"README section for 'reincheck setup' with examples. Explain 'green' strategies and dependency scanning. Security notes: scripts are previewed before execution, curl|sh requires explicit confirmation, how to audit what will run. Quick-start examples for common scenarios (macOS with brew, Linux with mise, etc.).","status":"open","priority":3,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:09:00.138150154+01:00","created_by":"Megatherium","updated_at":"2026-02-05T16:09:00.138150154+01:00","dependencies":[{"issue_id":"reincheck-dca","depends_on_id":"reincheck-5lx","type":"parent","created_at":"2026-02-05T16:09:00.149898924+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-dca","depends_on_id":"reincheck-rd3","type":"blocks","created_at":"2026-02-05T16:09:00.155826644+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-dca","depends_on_id":"reincheck-xi8","type":"blocks","created_at":"2026-02-05T16:09:00.158483247+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-e19","title":"Research: Python/uv/pipx-based harnesses install methods","description":"Research install/upgrade/version/check for Python agents: interpreter, openhands, aider, mistral, kimi. Cover: uv tool (uv tool install/upgrade), pipx, mise language pattern, homebrew. Confirm Python version requirements (e.g. openhands needs 3.12+). Verify binary names and version commands. Output: structured data + provenance.","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:08:05.870349932+01:00","created_by":"Megatherium","updated_at":"2026-02-05T22:49:23.390257868+01:00","closed_at":"2026-02-05T22:49:23.390257868+01:00","close_reason":"Research completed - distilled reference documents created at research/e19/DISTILLED.md and DISTILLED.yaml. All 5 Python harnesses verified: interpreter, openhands, aider, mistral, kimi.","dependencies":[{"issue_id":"reincheck-e19","depends_on_id":"reincheck-5lx","type":"parent","created_at":"2026-02-05T16:08:05.872355835+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-e19","depends_on_id":"reincheck-xjq","type":"blocks","created_at":"2026-02-05T16:08:05.873689547+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-e1s","title":"Trailing comma detection in preprocess_jsonish doesn't skip // comments","description":"The trailing comma detection logic in preprocess_jsonish() doesn't skip over // comments when looking ahead to determine if a comma is trailing.\n\nExample input:\n```json\n{\n  \"key\": \"value\", // comment\n}\n```\n\nCurrent behavior:\n- Comma check looks ahead: sees space then '/' (not whitespace or ']')\n- Keeps the comma (not detected as trailing)\n- Comment chars are replaced with spaces\n- Output: {\"key\": \"value\",  } → INVALID JSON\n\nExpected behavior:\n- Should skip over // comments when checking for trailing commas\n- Should detect this as a trailing comma and remove it\n- Output: {\"key\": \"value\" } → valid JSON\n\nRoot cause: The while loop at line 67 only checks for whitespace characters, not for // comments.\n\nFix needed: Modify the comma lookahead (around line 66-74) to also skip over // comments before checking for ] or }.","status":"closed","priority":2,"issue_type":"bug","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:51:26.38408254+01:00","created_by":"Megatherium","updated_at":"2026-02-05T16:53:14.050125067+01:00","closed_at":"2026-02-05T16:53:14.050125067+01:00","close_reason":"Fixed trailing comma detection in preprocess_jsonish() to skip over // comments when looking ahead. Now correctly handles cases like '{\"key\": \"value\", // comment}' by detecting the trailing comma. Tested with multiple edge cases including multiple comments and mixed whitespace."}
{"id":"reincheck-e1w","title":"Replace os.system() with subprocess for pager","description":"Security/Cross-platform issue: commands.py uses os.system() to invoke pager (lines 378, 381), which:\n- Less secure than subprocess\n- Not cross-platform compatible\n- Harder to test\n\nShould replace with subprocess.run or similar for better security and cross-platform support.","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-04T19:01:53.073916352+01:00","created_by":"Megatherium","updated_at":"2026-02-04T19:21:55.543952878+01:00","closed_at":"2026-02-04T19:21:55.543952878+01:00","close_reason":"Replaced os.system() with subprocess.run() for better security and cross-platform support"}
{"id":"reincheck-ejw","title":"Fix whitespace linting warnings","description":"ruff reports 3 whitespace issues:\n- reincheck/__init__.py:95 - W293 Blank line contains whitespace in load_config docstring\n- reincheck/__init__.py:149 - W293 Blank line contains whitespace in save_config docstring  \n- reincheck/__init__.py:240 - E501 Line too long (95 \u003e 88) in add_github_auth_if_needed docstring\n\nQuick formatting fixes to keep codebase clean.","status":"closed","priority":3,"issue_type":"chore","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T12:12:49.257758942+01:00","created_by":"Megatherium","updated_at":"2026-02-05T12:44:18.654426127+01:00","closed_at":"2026-02-05T12:44:18.654426127+01:00","close_reason":"Fixed whitespace issues: removed trailing spaces from line 149, fixed indentation in add_github_auth_if_needed function, and broke long docstring into multiple lines to fit within 88 character limit. All ruff checks now pass."}
{"id":"reincheck-gaq","title":"[THINK] Agent-friendly config format + tolerant parser","description":"[DECIDED] Agent-friendly config format + tolerant parser\n\n**Decision**: JSON + state-machine preprocessor (stdlib-only, no new deps)\n\n**Approach**:\n1. Accept 'JSON-ish' on input: trailing commas + // comments\n2. State-machine preprocessor (NOT regex) - handles strings/escapes safely\n3. Replace stripped chars with spaces to preserve line/col for errors\n4. Output strict JSON from formatter (comments not round-tripped)\n5. Validate against dataclasses schema\n\n**Sub-tasks created**:\n- reincheck-3vk: Preprocessor state machine\n- reincheck-5fi: load_config() with friendly errors\n- reincheck-ib5: Dataclass schema definitions\n- reincheck-mk3: 'reincheck config fmt' command\n- reincheck-2d5: Unit tests for parser\n- reincheck-ij9: Convert agents.yaml to agents.json\n\n**Key design decisions**:\n- No regex for trailing comma removal (unsafe with strings)\n- Comments accepted on input, dropped on format (documented)\n- Only // line comments (no /* */ to keep state machine simple)\n- Strict JSON as canonical output format","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:07:06.773201519+01:00","created_by":"Megatherium","updated_at":"2026-02-05T20:10:18.229650628+01:00","closed_at":"2026-02-05T20:10:18.229650628+01:00","close_reason":"Planning complete. Decision: JSON + state-machine preprocessor. All 6 implementation sub-tasks closed (3vk, 5fi, ib5, mk3, 2d5, ij9).","dependencies":[{"issue_id":"reincheck-gaq","depends_on_id":"reincheck-5lx","type":"parent","created_at":"2026-02-05T16:07:06.774954247+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-gaq","depends_on_id":"reincheck-xjq","type":"blocks","created_at":"2026-02-05T16:07:06.77645386+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-gg2","title":"Installer engine: methods, strategies, plan execution","description":"Core library for setup command. Implement dataclasses: Harness, InstallMethod (install/upgrade/version/check + required deps), Preset (harness→method mapping). Implement plan_install(preset, harnesses) → ordered steps, render_plan() → human preview, apply_plan() → execute with timeouts. Add user confirmation for high-risk curl|sh steps. Dry-run must print exact commands. Test with at least 2 harnesses from different ecosystems (npm + python).","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:07:22.033992071+01:00","created_by":"Megatherium","updated_at":"2026-02-06T01:17:09.048461296+01:00","closed_at":"2026-02-06T01:17:09.048461296+01:00","close_reason":"Addressed code review feedback:\n- Fixed redundant timeout nesting\n- Use specific exception handling instead of bare Exception\n- Improved pipe detection with regex (handles curl|sh, curl|bash, etc.)\n- Added edge case test for dict override without 'commands' key\n- Added comprehensive pipe pattern tests\n\nAll 73 tests passing, ruff clean, pushed to master.","dependencies":[{"issue_id":"reincheck-gg2","depends_on_id":"reincheck-5lx","type":"parent","created_at":"2026-02-05T16:07:22.035775797+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-gg2","depends_on_id":"reincheck-xjq","type":"blocks","created_at":"2026-02-05T16:07:22.036925453+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-gg2","depends_on_id":"reincheck-gaq","type":"blocks","created_at":"2026-02-05T16:07:22.038502702+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-gm5","title":"Add Config schema validation","description":"Reliability: load_config() reads YAML but doesn't validate structure. If YAML is malformed or missing required fields, errors occur later when accessing keys.\n\nShould:\n- Create pydantic model or dataclass for Config/AgentConfig\n- Validate required fields exist\n- Type-check values where appropriate\n- Provide clear error messages about what's missing\n- Makes debugging easier and prevents cryptic KeyErrors later","status":"closed","priority":1,"issue_type":"feature","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-04T19:01:41.842857295+01:00","created_by":"Megatherium","updated_at":"2026-02-04T19:18:16.907455256+01:00","closed_at":"2026-02-04T19:18:16.907455256+01:00","close_reason":"Completed - added dataclasses with validation"}
{"id":"reincheck-hsb","title":"Add logging library for separation of concerns","description":"Code smell: User output (click.echo) and debug output mixed throughout codebase. Makes it hard to:\n- Redirect logs to files\n- Control log levels\n- Separate user-facing from diagnostic output\n\nShould add Python logging module:\n- User messages stay with click.echo\n- Debug info uses logging.debug()\n- Errors use logging.error()\n- Configure handlers for stderr/file output","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-04T19:01:53.069972694+01:00","created_by":"Megatherium","updated_at":"2026-02-05T00:59:43.023404707+01:00","closed_at":"2026-02-05T00:59:43.023404707+01:00","close_reason":"Logging system implemented successfully - debug output now uses logging.debug(), user output remains in click.echo, internal errors use logging.error. 41/51 tests pass. Pre-existing test failures unrelated to changes."}
{"id":"reincheck-ib5","title":"Define config dataclasses for schema validation","description":"Define dataclasses in reincheck/config.py (or reincheck/schema.py) for validating parsed config:\n\n@dataclass\nclass AgentConfig:\n    name: str\n    description: str\n    install_command: str\n    version_command: str\n    check_latest_command: str\n    upgrade_command: str\n    latest_version: str | None = None\n    github_repo: str | None = None\n    release_notes_url: str | None = None\n\n@dataclass  \nclass Config:\n    agents: list[AgentConfig]\n\nImplement validate_config(data: dict) -\u003e Config that:\n1. Converts raw dict from json.loads() to Config dataclass\n2. Raises clear errors for missing required fields with field path\n\nThis is the CURRENT simple schema. Future tickets will expand for strategies/presets.","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:18:01.959061433+01:00","created_by":"Megatherium","updated_at":"2026-02-05T19:26:18.570428766+01:00","closed_at":"2026-02-05T19:26:18.570428766+01:00","close_reason":"Implemented dataclasses AgentConfig and Config in reincheck/config.py with validate_config() function. Added is_command_safe() and DANGEROUS_PATTERNS for command injection protection. Updated __init__.py to import from config module. Added comprehensive tests for validation (46 tests, all passing).","dependencies":[{"issue_id":"reincheck-ib5","depends_on_id":"reincheck-gaq","type":"parent","created_at":"2026-02-05T16:18:01.96658126+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-ib5","depends_on_id":"reincheck-5fi","type":"blocks","created_at":"2026-02-05T16:18:01.968196931+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-ij9","title":"Convert agents.yaml to agents.json reference config","description":"One-time migration task:\n1. Convert current reincheck/agents.yaml to reincheck/agents.json\n2. Use the new JSON format with the agents array structure\n3. Keep as packaged reference/default config\n4. Update __init__.py to load from .json instead of .yaml (or make loader detect format)\n\nThis can be done manually or with a script. The output should be valid strict JSON that passes load_config().","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:18:35.119041214+01:00","created_by":"Megatherium","updated_at":"2026-02-05T20:03:02.06061352+01:00","closed_at":"2026-02-05T20:03:02.06061352+01:00","close_reason":"Converted agents.yaml to agents.json, updated load_config/save_config to use JSON, moved pyyaml to dev dependencies. All 60 tests passing.","dependencies":[{"issue_id":"reincheck-ij9","depends_on_id":"reincheck-gaq","type":"parent","created_at":"2026-02-05T16:18:35.122995022+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-ij9","depends_on_id":"reincheck-ib5","type":"blocks","created_at":"2026-02-05T16:18:35.124671326+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-jqw","title":"Refactor: Split fetch_release_notes into smaller functions","description":"fetch_release_notes() is ~105 lines and handles multiple concerns:\n1. GitHub API fetching (lines 470-512)\n2. External release notes URL handling (lines 515-530)\n3. NPM fallback (lines 532-550)\n4. PyPI fallback (lines 552-566)\n\nEach section could be extracted into a separate helper function:\n- fetch_github_release_notes()\n- fetch_external_release_notes()\n- fetch_npm_fallback()\n- fetch_pypi_fallback()\n\nMain function would just orchestrate and combine results. Improves testability and readability.","status":"closed","priority":3,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T12:12:56.117307748+01:00","created_by":"Megatherium","updated_at":"2026-02-05T12:56:43.09762954+01:00","closed_at":"2026-02-05T12:56:43.09762954+01:00","close_reason":"Refactored fetch_release_notes into 4 smaller helper functions: fetch_github_release_notes, fetch_external_release_notes, fetch_npm_fallback, and fetch_pypi_fallback. Main function now orchestrates these helpers. Improved testability and readability while maintaining all original logic. All ruff checks pass."}
{"id":"reincheck-l3v","title":"Replace subprocess shell commands with safer alternatives","description":"Security improvement: run_command_async() uses asyncio.create_subprocess_shell() which is vulnerable to command injection if agent commands from YAML are malicious.\n\nCurrent issue:\n- Commands run via shell (lines 76-80)\n- No sanitization of command strings\n- YAML could contain malicious commands\n\nShould consider:\n1. Using shlex.quote() to escape arguments\n2. Or use subprocess.run() with list args for safer execution\n3. Validate/whitelist allowed command patterns from YAML\n\nPriority is Medium since YAML is trusted (locally edited), but good security practice.","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-04T19:03:48.249931847+01:00","created_by":"Megatherium","updated_at":"2026-02-04T19:26:11.434616035+01:00","closed_at":"2026-02-04T19:26:11.434616035+01:00","close_reason":"Completed - added command safety validation for shell metacharacters"}
{"id":"reincheck-lyp","title":"Research: NPM-based harnesses install methods","description":"Research install/upgrade/version/check commands for NPM-based agents: crush, kilocode, opencode, claude, grok, gemini, cline, continue, codex, amp. Cover strategies: mise language (mise use -g npm:pkg@latest), npm global, homebrew (if formula exists). For each: package name, binary name, version command. Note Homebrew formula availability. Output: structured data ready for config + provenance links.","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:07:57.868675778+01:00","created_by":"Megatherium","updated_at":"2026-02-05T21:20:29.086257841+01:00","closed_at":"2026-02-05T21:20:29.086257841+01:00","close_reason":"Research completed - distilled reference document created at research/lyp/DISTILLED.md","dependencies":[{"issue_id":"reincheck-lyp","depends_on_id":"reincheck-5lx","type":"parent","created_at":"2026-02-05T16:07:57.870191662+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-lyp","depends_on_id":"reincheck-xjq","type":"blocks","created_at":"2026-02-05T16:07:57.871599863+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-mk3","title":"Implement 'reincheck config fmt' command","description":"Add 'reincheck config fmt [FILE]' command that:\n1. Reads config file (default: ~/.config/reincheck/agents.json)\n2. Parses with load_config() (tolerant parser)\n3. Outputs strict JSON with json.dumps(indent=2, sort_keys=False)\n4. Either prints to stdout or overwrites file (with --write/-w flag)\n\nDocument: 'Comments are accepted on input but not preserved after formatting'\n\nAdd to reincheck/commands.py using Click.\n\nDependencies: reincheck-5fi (load_config must exist)","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:18:12.380851975+01:00","created_by":"Megatherium","updated_at":"2026-02-05T19:51:11.10285084+01:00","closed_at":"2026-02-05T19:51:11.10285084+01:00","close_reason":"Implemented config fmt command with tolerant parser support, --write flag, comprehensive tests. All 57 tests passing.","dependencies":[{"issue_id":"reincheck-mk3","depends_on_id":"reincheck-gaq","type":"parent","created_at":"2026-02-05T16:18:12.383987227+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-mk3","depends_on_id":"reincheck-5fi","type":"blocks","created_at":"2026-02-05T16:18:12.385799767+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-pgf","title":"Dependency scanning framework (green strategies)","description":"Scan system for tools required by each method/preset: mise, brew, npm, uv, pipx, cargo, curl, rg, sd, jq, etc. Implement Dependency objects with id, check_cmd, version_cmd, install_hint. Implement scan_dependencies() returning present/missing + versions. Mark preset 'green' iff all required deps for chosen methods are present. Produce structured report for setup UI consumption.","status":"open","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:07:31.737554308+01:00","created_by":"Megatherium","updated_at":"2026-02-05T16:07:31.737554308+01:00","dependencies":[{"issue_id":"reincheck-pgf","depends_on_id":"reincheck-5lx","type":"parent","created_at":"2026-02-05T16:07:31.739029515+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-pgf","depends_on_id":"reincheck-gg2","type":"blocks","created_at":"2026-02-05T16:07:31.740445682+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-pgy","title":"Add pager validation for security","description":"The release-notes command uses REINCHECK_RN_PAGER environment variable to invoke a pager, but doesn't validate or sanitize it. This could be a security risk if the env var is set to a malicious command.\n\nShould add:\n1. Validation to ensure pager_cmd is a known safe command (cat, less, more, bat, etc.)\n2. Or use shlex.quote() for safer invocation\n3. Consider using a whitelist of allowed pagers\n4. Add error handling if pager command fails","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-04T19:21:51.745107118+01:00","created_by":"Megatherium","updated_at":"2026-02-05T02:23:24.766665366+01:00","closed_at":"2026-02-05T02:23:24.766665366+01:00","close_reason":"Completed: Added pager validation with whitelist and error handling"}
{"id":"reincheck-rd3","title":"reincheck setup command (non-interactive)","description":"First working version without TUI. CLI: 'reincheck setup --list-presets', 'reincheck setup --preset mise-language --dry-run', 'reincheck setup --preset homebrew --apply', 'reincheck setup --preset custom --set cline=homebrew --set aider=uv'. Full flow: scan → choose preset → plan → dry-run/apply. Non-zero exit on failure with clear per-step errors. This enables automation and testing before interactive version.","status":"open","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:07:40.361945803+01:00","created_by":"Megatherium","updated_at":"2026-02-05T16:07:40.361945803+01:00","dependencies":[{"issue_id":"reincheck-rd3","depends_on_id":"reincheck-5lx","type":"parent","created_at":"2026-02-05T16:07:40.363745429+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-rd3","depends_on_id":"reincheck-wx1","type":"blocks","created_at":"2026-02-05T16:07:40.364789247+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-rd3","depends_on_id":"reincheck-gg2","type":"blocks","created_at":"2026-02-05T16:07:40.366455012+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-rd3","depends_on_id":"reincheck-pgf","type":"blocks","created_at":"2026-02-05T16:07:40.367829641+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-rx7","title":"[THINK] Refactor existing commands for new config model","description":"Update reincheck install/upgrade/check/list/update to use new config structure and method model. Decision needed: keep old commands on 'active method' per harness from preset, OR maintain legacy agents.yaml support for check/update only. Ensure install uses harness's selected method, upgrade uses method.upgrade. Minimize breaking changes while enabling new flexibility.","status":"open","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:08:43.042614667+01:00","created_by":"Megatherium","updated_at":"2026-02-05T16:08:43.042614667+01:00","dependencies":[{"issue_id":"reincheck-rx7","depends_on_id":"reincheck-5lx","type":"parent","created_at":"2026-02-05T16:08:43.04448722+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-rx7","depends_on_id":"reincheck-wx1","type":"blocks","created_at":"2026-02-05T16:08:43.045820662+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-rx7","depends_on_id":"reincheck-gg2","type":"blocks","created_at":"2026-02-05T16:08:43.048091402+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-rx7","depends_on_id":"reincheck-gaq","type":"blocks","created_at":"2026-02-05T16:08:43.050491143+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-rx7","depends_on_id":"reincheck-rd3","type":"blocks","created_at":"2026-02-05T16:08:43.052763807+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-sb4","title":"Extract magic numbers to constants","description":"Maintainability: Multiple hardcoded timeout values scattered across code:\n- run_command_async(): timeout=30 (line 70)\n- upgrade command: timeout=300 (line 163)\n- install command: timeout=600 (line 249)\n\nShould extract to module-level constants for clarity and easier tuning:\nDEFAULT_TIMEOUT = 30\nUPGRADE_TIMEOUT = 300\nINSTALL_TIMEOUT = 600","status":"closed","priority":3,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-04T19:01:53.064577053+01:00","created_by":"Megatherium","updated_at":"2026-02-04T19:03:57.874817466+01:00","closed_at":"2026-02-04T19:03:57.874817466+01:00","close_reason":"Implemented: Extracted DEFAULT_TIMEOUT, UPGRADE_TIMEOUT, INSTALL_TIMEOUT constants and updated all usages"}
{"id":"reincheck-sxv","title":"Research: Homebrew availability sweep (all harnesses)","description":"Determine which of the 16 harnesses have brew formula/cask. Output: table mapping harness→brew package/cask or 'none'. Note OS constraints (macOS only vs Linuxbrew). This is pure research - no code changes.","status":"closed","priority":3,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:08:25.638384764+01:00","created_by":"Megatherium","updated_at":"2026-02-06T00:10:20.670548863+01:00","closed_at":"2026-02-06T00:10:20.670548863+01:00","close_reason":"Completed Homebrew availability sweep for all 16 harnesses. Verified via formulae.brew.sh. Found 6 formulae and 4 casks available. Documented ~40% hallucination rate in source research. Key findings: amp formula is NOT Sourcegraph Amp, grok formula is deprecated/wrong tool.","dependencies":[{"issue_id":"reincheck-sxv","depends_on_id":"reincheck-5lx","type":"parent","created_at":"2026-02-05T16:08:25.640841132+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-uwu","title":"Make file I/O operations atomic","description":"Reliability: save_config() and load_config() have potential race conditions:\n- check file exists then open (not atomic)\n- write to file directly without temp file\n\nShould:\n- Use atomic write pattern: write to temp file, then atomic rename\n- Use Path.rename() which is atomic on POSIX systems\n- Prevents corrupted config if process crashes during write\n\nAlso applies to release_notes file writes in commands.py.","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-04T19:03:48.252628656+01:00","created_by":"Megatherium","updated_at":"2026-02-04T19:22:33.875903731+01:00","closed_at":"2026-02-04T19:22:33.875903731+01:00","close_reason":"Completed - implemented atomic file writes using temp files"}
{"id":"reincheck-wx1","title":"Config path migration to ~/.config/reincheck","description":"Move user config to XDG-compliant ~/.config/reincheck. Implement get_config_dir() and get_config_path() helpers. On first run, seed config from packaged defaults. Add auto-migration from current agents.yaml location. Clear error messages if config missing/corrupt. All existing commands must use new location seamlessly.","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:07:13.332294704+01:00","created_by":"Megatherium","updated_at":"2026-02-06T02:07:35.711918492+01:00","closed_at":"2026-02-06T02:07:35.711918492+01:00","close_reason":"Implemented config path migration to ~/.config/reincheck with XDG-compliant path resolution, auto-migration from YAML to JSON, and 'reincheck config init' command","dependencies":[{"issue_id":"reincheck-wx1","depends_on_id":"reincheck-5lx","type":"parent","created_at":"2026-02-05T16:07:13.334154542+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-wx1","depends_on_id":"reincheck-xjq","type":"blocks","created_at":"2026-02-05T16:07:13.335703709+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-wx1","depends_on_id":"reincheck-gaq","type":"blocks","created_at":"2026-02-05T16:07:13.337581361+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-x5l","title":"Consolidate duplicate agent filtering logic","description":"Code duplication: Agent filtering by name repeated in 3 places:\n- run_check() line 41-45\n- run_update() line 108-112  \n- run_upgrade() line 177-181\n\nShould extract to helper function: filter_agent_by_name(agents: list[AgentConfig], name: str) -\u003e list[AgentConfig] to reduce duplication and make error handling consistent.","status":"closed","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-04T19:01:53.086878576+01:00","created_by":"Megatherium","updated_at":"2026-02-04T19:03:57.869390596+01:00","closed_at":"2026-02-04T19:03:57.869390596+01:00","close_reason":"Implemented: Created filter_agent_by_name() helper function and used it in 4 places"}
{"id":"reincheck-xi8","title":"[THINK] Interactive TUI wizard for setup","description":"Interactive installer selection with green/yellow/red indicators. Flow: 1) Show presets with status colors 2) Pick preset 3) Override per-harness methods 4) Preview plan 5) Confirm + apply. Key decision: click prompts (no deps, cross-platform) vs curses full-screen. Preview shows commands grouped by harness. Press 'u' for unsatisfied deps modal. Non-green selections get confirmation. Hooks into same planning engine as non-interactive setup.","status":"open","priority":2,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:07:48.96949342+01:00","created_by":"Megatherium","updated_at":"2026-02-05T16:07:48.96949342+01:00","dependencies":[{"issue_id":"reincheck-xi8","depends_on_id":"reincheck-5lx","type":"parent","created_at":"2026-02-05T16:07:48.971087721+01:00","created_by":"Megatherium"},{"issue_id":"reincheck-xi8","depends_on_id":"reincheck-rd3","type":"blocks","created_at":"2026-02-05T16:07:48.972354467+01:00","created_by":"Megatherium"}]}
{"id":"reincheck-xjq","title":"[THINK] Setup command architecture + data model","description":"Design the core data model for strategies/presets/methods. Define entities: Harness, InstallMethod, Preset, Dependency, Plan. Decide if strategy==preset. Define override mechanics. Output: docs/setup-design.md with data model, 'green' computation logic, plan rendering/execution approach, backward-compat stance for current agents.yaml. This is foundational - all other setup work depends on this design.","status":"closed","priority":1,"issue_type":"task","owner":"852741+Megatherium@users.noreply.github.com","created_at":"2026-02-05T16:06:59.718595319+01:00","created_by":"Megatherium","updated_at":"2026-02-05T16:29:14.723650706+01:00","closed_at":"2026-02-05T16:29:14.723650706+01:00","close_reason":"Design document created at docs/setup-design.md - defines all core entities (Harness, InstallMethod, Preset, Dependency, Plan), green computation logic, override mechanics, plan execution semantics with safety controls, JSON config format, and backward compatibility migration","dependencies":[{"issue_id":"reincheck-xjq","depends_on_id":"reincheck-5lx","type":"parent","created_at":"2026-02-05T16:06:59.720671724+01:00","created_by":"Megatherium"}]}
